# Основы JavaScript

Язык программирования созданный по стандарту [ECMAScript](https://www.ecma-international.org/).
Используется для написания скриптов в браузере, а также имеет серверную реализацию [node.js](https://nodejs.org)

материалы:

- [Современный учебник JavaScript](https://learn.javascript.ru/)
- [ECMAScript 5.1 с аннотациями](http://es5.javascript.ru/)
- [ES6 - New Features: Overview & Comparison](http://es6-features.org)
- [Обзор новшеств ECMAScript 2016, 2017, и 2018 с примерами](https://habr.com/ru/company/ruvds/blog/353174/)

## Синтаксис

```javascript
var x, y, z; // объявить переменные
x = 5;
y = 6; // присвоить значение
z = x + y; // вычислить значение

// объявить функцию
function myFn() {}

// функция принимающая аргументы
function add(a, b) {
  return a + b;
}
```

## Типы данных

```javascript
// Boolean
true;
false;

// Number
1;
2.7 - 0.2;
Infinity;
NaN; // результат математической операции, которая не может быть выполнена, например (1 / 's')

// String
('ambrella');

// Symbol
Symbol('yourSymbol');

// Null
null;

// Undefined
undefined;
```

всё остальное это **Object**, то есть _Javascript_ - язык объектно-ориентированный

Однако в отличие от большинства объектно-ориентированных языков он не имеет строгой типизации. Объявленная переменная может быть инициализирована строкой, а затем изменена на любой из существующих типов, напрмер **number** или **Object** и наоборот:

```javascript
var str = 'my string';
typeof str; // вернёт string

str = 5;
typeof str; // вернёт number

str = {};
typeof str; // вернёт object

str = 'my new string';
typeof str; // вернёт string
```

## Операторы

Для работы с переменными, со значениями, _JavaScript_ поддерживает все стандартные операторы, большинство которых есть и в других языках программирования.

### Основные операторы

`+` сложение

`-` вычитание

`*` умножение

`/` деление

`%` взятие остатка от целочисленного деления

например

```javascript
2 + 3; // вернёт 5
2 / 3; // вернёт 0.6666666666666666
2 % 3; // вернёт 2, так как 2 на 3 нацело не делится
13 % 3; // вернёт 1
```

### Оператор присваивания

`=` присваивает значение переменной

```javascript
var a = 'str';
```

#### Сокращённая арифметика с присваиванием

`+=` складывает передаваемое значение с текущим значением переменной

```javascript
var a = 'str';
a += 'br'; // значение a станет 'strbr' (эквивалентно a = a + 'br')
// то же и с числами
var b = 2;
b += 11; // значение b станет 13
```

`-=` по аналогии с `+=` вычитает передаваемое значение из текущего значения переменной. Работает только для чисел, для остальных значений возвращает **NaN**

так же `*=` и `/=`

```javascript
var n = 2;
n += 5; // значение n станет 7
n *= 2; // значение n станет 14

var a = 4;
a /= 2; // значение a станет 2
```

### Операторы сравнения

_JavaScript_ допускает как строгое сравнение, так и сравнение с приведением типов. Для строгого сравнения оба операнда должны иметь одинаковый тип и:

`==` оператор равенства с приведением типов

Если два операнда не одного типа, javascript преобразовывает типы и сравнивает строго. Если какой-либо операнд - число или булево значение, то операнды преобразуются в числа; если какой-либо операнд строка - второй преобразуются в строку

```javascript
// все выражения вернут true
3 == 3;
'3' == 3;
3 == '3';
```

Не равно `!=` Возвращает true, если операнды не равны. Если операнды имеют разный тип, javascript преобразовывает.

```javascript
// все выражения вернут true
3 != 4;
3 != '5';
```

Строго равно (===) Возвращает true, если операнды строго равны (см. выше), без преобразования типов.

```javascript
// вернёт true
3 === 3;
```

Строго не равно (!==) Возвращает true, если операнды не являются строго равными (см. выше) или имеют разные типы.

```javascript
// все выражения вернут true
4 !== 3;
3 !== '3';
```

Больше (>) Возвращает true, если левый операнд больше правого.

```javascript
// вернёт true
4 > 3;
```

Больше или равно (>=) Возвращает true, если левый операнд больше правого или равен ему.

```javascript
// все выражения вернут true
4 >= 3;
3 >= 3;
```

Меньше (<) Возвращает true, если левый операнд меньше правого.

```javascript
// вернёт true
3 < 4;
```

Меньше или равно (<=) Возвращает true, если левый операнд меньше правого или равен ему.

```javascript
// все выражения вернут true
3 <= 4;
4 <= 5;
```

- Две строки строго равны, если состоят из одинаковой последовательности символов

```javascript
'yes' === 'yes'; // вернёт true
'yes' === 'no'; // вернёт false
```

- Два числа строго равны, если равны в обычном смысле слова. +0 строго равен -0.

```javascript
2 === 2; // вернёт true
2 === 3; // вернёт false
2 === '2'; // вернёт false
```

- NaN строго не равно ничему, включая NaN

```javascript
NaN === NaN; // вернёт false
```

- Два булевых операнда строго равны, если они оба true или false

```javascript
true === true; // вернёт true
false === false; // вернёт true
```

- Два операнда-объекта строго равны, если являются ссылками на один и тот же общий объект

```javascript
{} === {}   // вернёт false
var a = {}
var b = a
a === b     // вернёт true
```

- Null и Undefined равны ==, но не строго равны ===

Нужно быть осторожным с оператором сравнения с приведением типов

```javascript
// все выражения вернут true
0 == false
0 == null (при этом 0 == undefined вернёт false)
null == undefined
1 == true
```

### Условные операторы

Позволяют выполнить различные действия в зависимости от определенных условий

`if (...) {...}` вычисляет и преобразует выражение в скобках к логическому типу.

```javascript
var condition = true;

if (condition) {
  // do something
}
```

`else {...}` Необязательный блок else («иначе») выполняется, если условие в `if (...) {...}` неверно

```javascript
var condition = false;

if (condition) {
  // do something
} else {
  // do some default operation
}
```

`else if` позволяет проверить несколько условий

```javascript
var condition1 = false;
var condition2 = false;
var condition3 = false;

if (condition1) {
  // do something
} else if (condition2) {
  // do something else
} else if (condition3) {
  // do something else
}
```

`<condition> ? <value if true> : <value if false>` тернарный оператор, возвращает первое значение если условия **true** и второе если условие **false**

```javascript
var condition = true;

var value = condition ? 'one' : 'two';

// эквивалентно
var value;

if (condition) {
  value = 'one';
} else {
  value = 'two';
}
```

### Логические операторы

`||` логическое **или**, если хоть один из аргументов `true` возвращает `true`

```javascript
var a = true;
var b = false;

a || b; // вернёт true
```

`&&` логическое **и**, если все аргументы `true` возвращает `true`

```javascript
var a = true;
var b = false;

a && b; // вернёт false
```

## Поддержка стандартов

Как и все остальные, язык развивается. Он имеет разные редакции, версии (первоначальные аббревиатуры **ES6** **ES7** **ES-next** заменены теперь на **ES2015** **ES2016** и т.д. изза чего в литературе много путанницы). Однако в отличие от других платформ ситуация с _JavaScript_ обстоит более сложным образом.

Ввиду того, что производители браузеров по сути являются конкурентами реализации в разных браузерах могут отличаться. Также разные производители добавляют поддержку новых стандартов с разной скоростью, что привело к появлению такого подхода в написании программ на _JavaScript_ как использование superset'ов. Реализуется с помощью [транспайлеров](https://ru.wikipedia.org/wiki/%D0%A2%D1%80%D0%B0%D0%BD%D1%81%D0%BF%D0%B0%D0%B9%D0%BB%D0%B5%D1%80). Наиболее популярными на данный момент являются [tsc](https://www.typescriptlang.org/play/) (компилирует typescript в какую-либо версию _JavaScript_, например в [es5](https://es5.javascript.ru/)) и [babel](https://babeljs.io/repl/#?babili=false&browsers=&build=&builtIns=false&spec=false&loose=false&code_lz=Q&debug=false&forceAllTransforms=false&shippedProposals=false&circleciRepo=&evaluate=false&fileSize=false&timeTravel=false&sourceType=module&lineWrap=true&presets=es2015%2Cstage-2&prettier=false&targets=&version=7.4.3&externalPlugins=) (является чем-то вроде конструктора, можно построить нужный синтаксис подключая разные пресеты).

Транспайлеры также являются решением кроссбраузерных проблем. Так например _babel_ имеет [babel-preset-es2015-ie8](https://github.com/slashhuang/babel-preset-es2015-ie8) для поддержки интернет Эксплорера версии 8
